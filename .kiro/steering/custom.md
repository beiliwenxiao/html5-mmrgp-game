---
inclusion: always
---

# 客户定制要求

## 项目定制规范

### 代码风格
- 使用 ES6+ 语法
- 类名使用 PascalCase
- 方法和变量使用 camelCase
- 常量使用 UPPER_SNAKE_CASE
- 文件名使用 PascalCase（类文件）或 camelCase（工具文件）

### 架构要求
- 采用 ECS（Entity-Component-System）架构
- 保持模块化和可扩展性
- 核心系统与游戏逻辑分离
- 使用依赖注入模式

### 性能要求
- 目标帧率：60 FPS
- 支持至少 100 个同时在线玩家
- 资源加载使用懒加载策略
- 优化渲染性能，减少重绘

### 测试要求
- 核心功能必须有单元测试
- 测试覆盖率目标：80%+
- 使用 Vitest 作为测试框架
- 提供独立的测试页面用于功能验证

### 文档要求
- 每个模块必须有 README.md
- 复杂函数需要 JSDoc 注释
- 保持实现总结文档更新
- API 变更需要记录
- 所有 .md 文档统一放在 docs 文件夹中管理
- 项目根目录只保留 README.md 文件

### 网络通信
- 使用 WebSocket 进行实时通信
- 支持断线重连机制
- 消息格式使用 JSON
- 实现心跳检测

### 游戏特性
- 支持多场景切换
- 角色创建和选择系统
- 实时战斗系统
- 背包和装备系统
- 社交和组队功能

## 开发流程
1. 功能开发前先更新 spec 文档
2. 实现功能并编写测试
3. 创建独立测试页面验证
4. 更新相关文档
5. 提交代码前运行所有测试

## 注意事项
- 避免使用全局变量
- 及时清理事件监听器
- 注意内存泄漏问题
- 保持代码简洁可读

## 回答问题要求
- 用中文回答
- 执行task时，每一个小阶段点执行完成后，都需要找我确认是否继续执行。
